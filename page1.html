<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <link rel="stylesheet" href="css/electricroommonitoring.css"/>
        <script  type="text/javascript" src="js/jquery-3.3.1.js"></script>
        <script type="text/javascript" src="dist/echarts-all.js"></script>
        <script language="javascript" type="text/javascript" src="My97DatePicker/WdatePicker.js"></script>
        <script  type="text/javascript" src="js/function.js"></script>
    </head>
    <body>
            <div class="tab-head" id="tab-head" style="height: 40px">
                <div id="h1" class="selected"><img src="res/lock2.png" style="float:left"></img>仪表显示</div>
                <div id="h2" ><img src="res/lock2.png" style="float:left">数据列表</div>
                <div id="h3"><img src="res/lock2.png" style="float:left">变化趋势</div>
            </div>
            <div class="tab-content" id="tab-content">
                <div class="tab-div show " id="main" >content1</div>
                <div class="tab-div" id="reallist">
                    <div class="pagecard" id="pagecard1" style="margin-bottom:10px">
                        <h3 align="center" >数据列表</h3>
                        <!--ul class="pc-nav" >
                            <li ><a href="#" target="iframe_main"><i>数据列表</i></a></li>
                            <li ><a href="#" target="iframe_main"><i>变化曲线</i></a></li>
                        </ul-->
                    </div>
                    <div align="center" style="overflow:auto;">
                        <table id="list-table" width="1200px" >
                            <thead>
                                <tr >
                                <th style="color:#0000ff" onclick="sortt('.sensorid')"><a href="javascript:">测量点编号 <span class="sensorid"></span></a></th>
                                <th style="color:#0000ff" onclick="sortt('.sensorname')" ><a href="javascript:">测量点名称<span class="sensorname"></span> </a></th>
                                <!--th>数据编号</thonclick="sortt('.tmpvalue')"-->
                                <th style="color:#0000ff" onclick="sortt('.time')"><a href="javascript:">测量时间 <span class="time"></span></a></th>
                                <th style="color:#0000ff" onclick="sortt('.tmpvalue')"><a href="javascript:">测量值<span class="tmpvalue"></span></a></th>
                                <!--<th style="color:#0000ff">查看历史数据</th>
                                <th style="color:#0000ff">查看告警信息</th> 
                                <th style="width:18px;border:0px solid black;"></th>-->
                                </tr>
                            </thead>
                            <tbody id='list-tbody'>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-div" id="chartmain" align="center" >
                    
                    <h3 align="center" style="height:40px;line-height: 40px" >趋势图</h3>
                    <table class="table" align="center" >
                        <tr >
                        <td  class="condition" style="color:#0000b0;width:120px;border:0px;"> 监测点名称 :</td>
                        <td  class="condition" style="width:100px;border:0px;width:120px;">	
                            <select id="jdcmc" style="font-size:16px;width:153px;">
                                <option value="0">温度</option>
                            </select>
                        </td>
                        </tr>
                        <tr>
                            <td class="condition" style="width:100px;"> 起止时间:</td>
                            <td class="condition"><input type="text" onClick="WdatePicker({el:this,dateFmt:'yyyy-MM-dd HH:mm:ss'})" id="kssj_chart" style="width:190px;" ></input></td>
                            <td class="condition" style="width:30px;">至</td>
                            <td class="condition"><input type="text" onClick="WdatePicker({el:this,dateFmt:'yyyy-MM-dd HH:mm:ss'})" id="jssj_chart" style="width:190px;" ></input></td>
                            <td class="condition"><input class="button"type="button" id="chaxun" value="查询" onclick="" ></input></td>
                        </tr>
                    </table>
                    <div id="main2" align="center" style="height:400px;width:600px;">
                    </div>
                </div>
            </div>
        <script>
            var tabs = document.getElementsByClassName('tab-head')[0].getElementsByTagName('div'),
            contents = document.getElementsByClassName('tab-content')[0].getElementsByClassName('tab-div');
            var bodyfrm = (document.compatMode.toLowerCase() == "css1compat") ? document.documentElement : document.body;
            function refreshwindow(){
                (function changeTab(tab) {
                    for(var i = 0, len = tabs.length; i < len; i++) {
                    tabs[i].onclick = showTab;
                    }
                })();
                var  tabhead=document.getElementById("tab-content");
                wwidth=bodyfrm.clientWidth-5;
                wheight=bodyfrm.clientHeight-28;
                tabhead.style.width=wwidth+"px";
                tabhead.style.height=wheight+"px";
                for(var j=0;j<contents.length;j++){
                    contents[j].style.width=wwidth+"px";
                    contents[j].style.height=wheight+"px";
                }
                //document.getElementById("main2").style.height="500px";
                // 基于准备好的dom，初始化echarts实例
                var myChart = echarts.init(document.getElementById('main'));

                // 指定图表的配置项和数据
                option = {
                    backgroundColor: '#1b1b1b',
                    tooltip: {
                        formatter: "{a} <br/>{c} {b}"
                    },
                    toolbox: {
                        show: true,
                        feature: {
                            mark: {
                                show: true
                            },
                            restore: {
                                show: true
                            },
                            saveAsImage: {
                                show: true
                            }
                        }
                    },
                    series: [{
                        name: '速度',
                        type: 'gauge',
                        min: 0,
                        max: 220,
                        center:["10%","13%"],
                        splitNumber: 11,
                        radius: '15%',
                        axisLine: { // 坐标轴线
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: [
                                    [0.09, 'lime'],
                                    [0.82, '#1e90ff'],
                                    [1, '#ff4500']
                                ],
                                width: 10,
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisLabel: { // 坐标轴小标记
                            textStyle: { // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: { // 坐标轴小标记
                            length: 15, // 属性length控制线长
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: 'auto',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        splitLine: { // 分隔线
                            length: 25, // 属性length控制线长
                            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                                width: 3,
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: { // 分隔线
                            width:2,
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5
                        },
                        title: {
                            textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                fontWeight: 'bolder',
                                fontSize: 14,
                                fontStyle: 'italic',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        detail: {
                            backgroundColor: 'rgba(30,144,255,0.8)',
                            width:50,
                            height:20,
                            borderWidth: 1,
                            borderColor: '#fff',
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5,
                            offsetCenter: [0, '10%'], // x, y，单位px
                            textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                //fontWeight: 'bolder',
                                color: '#fff',
                                fontSize:14,
                            }
                        },
                        data: [{
                            value: 40,
                            name: 'km/h'
                        }]
                    }, 
                    {
                        name: '转速',
                        type: 'gauge',
                        center: ['30%', '13%'], // 默认全局居中
                        radius: '15%',
                        min: 0,
                        max: 7,
                        //endAngle: 45,
                        splitNumber: 7,
                        axisLine: { // 坐标轴线
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: [
                                    [0.29, 'lime'],
                                    [0.86, '#1e90ff'],
                                    [1, '#ff4500']
                                ],
                                width: 2,
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisLabel: { // 坐标轴小标记
                            textStyle: { // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: { // 坐标轴小标记
                            length: 12, // 属性length控制线长
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: 'auto',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        splitLine: { // 分隔线
                            length: 20, // 属性length控制线长
                            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                                width: 3,
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            width: 5,
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5
                        },
                        title: {
                            offsetCenter: [0, '30%'], // x, y，单位px
                            textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                fontWeight: 'bolder',
                                fontStyle: 'italic',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        detail: {
                            //backgroundColor: 'rgba(30,144,255,0.8)',
                            // borderWidth: 1,
                            borderColor: '#fff',
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5,
                            //width: 80,
                            //height: 30,
                            offsetCenter: [25, '20%'], // x, y，单位px
                            textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                fontWeight: 'bolder',
                                color: '#fff'
                            }
                        },
                        data: [{
                            value: 1.5,
                            name: 'x1000 r/min'
                        }]
                    }, 
                    {
                        name: '油表',
                        type: 'gauge',
                        center: ['50%', '13%'], // 默认全局居中
                        radius: '15%',
                        min: 0,
                        max: 2,
                        //startAngle: 135,
                        //endAngle: 45,
                        splitNumber: 2,
                        axisLine: { // 坐标轴线
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: [
                                    [0.2, 'lime'],
                                    [0.8, '#1e90ff'],
                                    [1, '#ff4500']
                                ],
                                width: 2,
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: { // 坐标轴小标记
                            length: 12, // 属性length控制线长
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: 'auto',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisLabel: {
                            textStyle: { // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            },
                            formatter: function(v) {
                                switch(v + '') {
                                    case '0':
                                        return 'E';
                                    case '1':
                                        return 'Gas';
                                    case '2':
                                        return 'F';
                                }
                            }
                        },
                        splitLine: { // 分隔线
                            length: 15, // 属性length控制线长
                            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                                width: 3,
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            width: 2,
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5
                        },
                        title: {
                            show: false
                        },
                        detail: {
                            show: false
                        },
                        data: [{
                            value: 0.5,
                            name: 'gas'
                        }]
                    }, 
                    {
                        name: '水表',
                        type: 'gauge',
                        center: ['70%', '13%'], // 默认全局居中
                        radius: '15%',//半径
                        min: 0,
                        max: 2,
                        //startAngle: 315,//起始角度
                        //endAngle: 225,//终止角度
                        splitNumber: 2,//
                        axisLine: { // 坐标轴线
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: [
                                    [0.2, 'lime'],
                                    [0.8, '#1e90ff'],
                                    [1, '#ff4500']
                                ],
                                width: 2,
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: { // 坐标轴小标记
                            show: false,
                            splitNumber:2,
                        },
                        axisLabel: {
                            textStyle: { // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            },
                            formatter: function(v) {
                                switch(v + '') {
                                    case '0':
                                        return 'H';
                                    case '1':
                                        return 'Water';
                                    case '2':
                                        return 'C';
                                }
                            }
                        },
                        splitLine: { // 分隔线
                            length: 15, // 属性length控制线长
                            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                                width: 3,
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            width: 2,
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5
                        },
                        title: {
                            show: false
                        },
                        detail: {
                            show: false
                        },
                        data: [{
                            value: 0.5,
                            name: 'gas'
                        }]
                    },
                    {
                        name: '湿度',
                        type: 'gauge',
                        center: ['90%', '13%'], // 默认全局居中
                        radius: '15%',//半径
                        min: 0,
                        max: 100,
                        //startAngle: 315,//起始角度
                        //endAngle: 225,//终止角度
                        splitNumber: 5,//
                        axisLine: { // 坐标轴线
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: [
                                    [0.2, 'lime'],
                                    [0.8, '#1e90ff'],
                                    [1, '#ff4500']
                                ],
                                width: 2,
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: { // 坐标轴小标记
                            show: true,
                            splitNumber:5,
                        },
                        axisLabel: {
                            textStyle: { // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            },
                            
                        },
                        splitLine: { // 分隔线
                            length: 15, // 属性length控制线长
                            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                                width: 3,
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            width: 2,
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5
                        },
                        title: {
                            show: false
                        },
                        detail: {
                            show: false
                        },
                        data: [{
                            value: 0.5,
                            name: 'gas'
                        }]
                    },
                    {
                        name: '温度',
                        type: 'gauge',
                        center: ['10%', '38%'], // 默认全局居中
                        radius: '15%',//半径
                        min: 0,
                        max: 100,
                        //startAngle: 315,//起始角度
                        //endAngle: 225,//终止角度
                        splitNumber: 5,//
                        axisLine: { // 坐标轴线
                            lineStyle: { // 属性lineStyle控制线条样式
                                color: [
                                    [0.2, 'green'],
                                    [1, '#1f1f1f']
                                ],
                                width: 10,
                                shadowColor: 'yellow', //默认透明
                                shadowOffsetX:2,
                                shadowBlur: 10
                            }
                        },
                        axisTick: { // 坐标轴小标记
                            show: true,
                            splitNumber:5,
                        },
                        axisLabel: {
                            textStyle: { // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            },
                            
                        },
                        splitLine: { // 分隔线
                            length: 12, // 属性length控制线长
                            lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                                width: 1,
                                color: '#fff',
                                shadowColor: '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            show:false,
                            width: 2,
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 5
                        },
                        title: {
                            show: true,
                            offsetCenter: [0, '-10%'], // x, y，单位px
                            textStyle: {
                                color: 'white',
                                fontSize: 16
                            }

                        },
                        detail: {
                            show: true,
                            offsetCenter: [0, '-10%'],
                            formatter: '{value}',
                            textStyle: {
                                fontSize: 16,
                                color:'#F8F43C'
                            }

                        },
                        data: [{
                            value: 20,
                            name: '温度'
                        }]
                    }
                    ]
                };

                myChart.setOption(option);
                    setInterval(function() {
                    option.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;
                    option.series[1].data[0].value = (Math.random() * 7).toFixed(2) - 0;
                    option.series[2].data[0].value = (Math.random() * 2).toFixed(2) - 0;
                    option.series[3].data[0].value = (Math.random() * 2).toFixed(2) - 0;
                    option.series[4].data[0].value = (Math.random() * 100).toFixed(2) - 0;
                    var value = (Math.random() * 100).toFixed(2) - 0;
                    option.series[5].data[0].value=value;
                    
                    if(value<20){
                        option.series[5].axisLine.lineStyle.color[0]=[value/100,'blue'];
                    }else if(value<80){
                        option.series[5].axisLine.lineStyle.color[0]=[value/100,"green"];
                    }else{
                        option.series[5].axisLine.lineStyle.color[0]=[value/100,"red"];
                    }
                    //option.series[5].axisLine.lineStyle.color[0][0]=value/220;
                    myChart.setOption(option);
                }, 2000)
                initpage1();
            }; 
            window.onload=window.onresize=refreshwindow;
            function showTab() {
                for(i=0;i<tabs.length;i++){
                    if(tabs[i]===this){
                        tabs[i].className="selected";
                        contents[i].className="tab-div show";
                    }else{
                        tabs[i].className="";
                        contents[i].className="tab-div";
                    }
                }
                /*if("仪表显示"=== this.innerText) {
                    tabs[0].className = 'selected';
                    tabs[1].className = '';
                    tabs[2].className = '';
                    document.getElementById("main").style.display="block";
                    document.getElementById("reallist").style.display="none";
                    document.getElementById("chartmain").style.display="none";
                } else if(this.innerText==="数据列表"){
                    tabs[0].className = '';
                    tabs[1].className = 'selected';
                    tabs[2].className = '';
                    document.getElementById("main").style.display="none";
                    document.getElementById("reallist").style.display="block";
                    document.getElementById("chartmain").style.display="none";
                }else if(this.innerText==="变化趋势"){
                    tabs[0].className = '';
                    tabs[2].className = 'selected';
                    tabs[1].className = '';
                    document.getElementById("main").style.display="none";
                    document.getElementById("reallist").style.display="none";
                    document.getElementById("chartmain").style.display="block";
                }*/

            }
            function makeseries(){

            }
        </script>        
    </body>
</html>